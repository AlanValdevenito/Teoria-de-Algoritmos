# Enunciado

En su tiempo libre, Carlitos colecciona figuritas del mundial. Incluso a casi un año de la coronación de gloria, hay
mucho entusiasmo por estas. Llegó a coleccionar tantas que ahora se dedica a revenderlas (para sacar unos pesos extra
de su trabajo principal como publicista). Tiene tantas figuritas que ya no revende al público directamente, sino a otros
revendedores y cadenas de kioscos. En general, cuando le piden, le piden figuritas “por una cantidad de dinero”. Cada
tipo de figurita tiene un valor diferente (es decir, la de Messi no vale lo mismo que la del Bobo Weghorst). Podemos
decir que absolutamente todos los tipos de figuritas tienen valores diferentes, todos valores enteros, y que Carlitos cuenta
con una cantidad ridículamente alta de cada una de ellas. Por un análisis que hizo, sabe que si le piden figuritas por un
determinado monto, le conviene dar la menor cantidad de figuritas posibles (siempre cumpliendo con el monto exacto
pedido), incluso repitiendo figuritas en caso de ser necesario.

El problema de las figuritas de Carlitos dice: dados los valores de los diferentes tipos de figuritas y un monto al que llegar, determinar cuáles figuritas debe dar Carlitos para cumplir exactamente con dicho monto dando la mínima cantidad de figuritas para ello.

¿Cuál problema de Carlitos sería el más difícil, el problema de las figuritas o el de su agencia publicitaria?.

Realizar una reducción polinomial de uno al otro para definir esto (redefinir como problemas de decisión como primer paso).

# Solucion

Problema de decision: Dadas las campañas publicitarias de la forma (Gi, Ci), un presupuesto P y un valor K, ¿exiten a lo sumo K campañas publicitarias que cumplan exactamente con el presupuesto P?

Problema de decision: Dados los valores de los diferentes tipos de figuritas, un monto M al que llegar y un valor K, ¿existen a lo sumo K figuritas que Carlitos pueda dar para cumplir exactamente con dicho monto?

Para demostrar que es un problema NP-Completo debemos:
- Demostrar que el problema se encuentra en NP
- Reducir el problema de Agencia Publicitaria al problema del Figuritas: Agencia Publicitaria $\leq_P$ Figuritas

Nota: Para la segunda demostracion es importante demostrar que nuestra reduccion es correcta demostrando la doble implicacion.

La segunda demostracion nos indica que el problema del Figuritas es al menos tan dificil de resolver como el problema de Agencia Publicitaria. Esto significa que resolver el problema de Agencia Publicitaria puede ser transformado en resolver el problema del Figuritas.

## Demostracion I: El problema se encuentra en NP

Para que el problema se encuentre en NP, debe haber un verificador eficiente.

En otras palabras, debe haber un verificador que ejecute en tiempo polinomial.

Verificador: Recibe una instancia del problema y una solucion.

```py
def verificador(figuritas, monto, K, solucion):
    
    # Validamos que la solucion tenga a lo sumo K figuritas
    if len(solucion) > K:
        return False

    # Validamos que las figurtas que conforman la solucion sean realmente figuritas
    for figurita in solucion:
        if figurita not in figuritas:
            return False

    # Validamos que la suma de la solucion sea exactamente igual al monto
    if sum(solucion) != monto:
        return False
    
    return True
```

Complejidad: La complejidad del verificador resulta ser O(F) con F la cantidad de figuritas que Carlitos debe dar.

Luego, se ejecuta en tiempo polinomial, lo cual quiere decir que el problema se encuentra en NP.

## Demostracion II: Reduccion de un problema NP-Completo

Debemos demostrar que Agencia Publicitaria $\leq_P$ Figuritas.

### Reduccion planteada

¿Podemos resolver el problema de Agencia Publicitaria utilizando la solucion del problema Figuritas?.

Vamos a utilizar una caja negra que resuelve el problema del problema Figuritas para resolver el problema de Agencia Publicitaria.

El problema de Agencia Publicitaria recibe un conjunto de campañas publicitarias (Gi, Ci), un presupuesto P y un valor K'.

Transformacion del problema: Transformamos la entrada del problema de Agencia Publicitaria en una entrada del problema Figuritas
- Transformamos cada campaña publicitaria en una figurita de tal forma que su valor se corresponde con Ci y este sea igual a Gi
- El valor de P se corresponde con el monto M
- El valor de K' se crresponde con el valor de K

Esta transformacion requiere una cantidad de pasos polinomiales.

A continuacion, para demostrar que la reduccion es correcta, debemos demostrar que:

Hay solucion de Agencia Publicitaria de tamaño a lo sumo K', si y solo si, hay solucion para el problema del Figuritas de tamaño a lo sumo K.

Para demostrar ambas implicaciones tenemos dos opciones:
- Metodo directo, asumiendo para cada una que la hipotesis es cierta.
- Metodo por absurdo.

### Si hay Agencia Publicitaria, entonces hay Figuritas

Hipotesis: Hay solucion de Agencia Publicitaria de tamaño a lo sumo K'

Dada nuestra hipotesis, exiten a lo sumo K' campañas publicitarias con (Gi, Ci) que cumplen exactamente con el presupuesto P.

Teniendo en cuenta la transformacion propuesta, esto quiere decir que existen a lo sumo K figuritas con valor Ci que cumple con el monto M.

Luego, hay solucion para el problema de Figuritas de tamaño a lo sumo K.

### Si hay Figuritas, entonces hay Agencia Publicitaria

Hipotesis: Hay solucion de Figuritas de tamaño a lo sumo K

Dada nuestra hipotesis, existen a lo sumo K figuritas que cumplen exactamente con el monto M.

Teniendo en cuenta la transformacion propuesta, esto quiere decir que existen a lo sumo K' campañas publicitarias que cumplen exactamente con el presupuesto P.

Luego, hay solucion para el problema de Agencia Publicitaria de tamaño a lo sumo K.

