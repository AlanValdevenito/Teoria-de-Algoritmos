# Enunciado

Se define el problema 2-Partition de la siguiente manera: Se cuenta con un conjunto de n elementos. Cada uno de
ellos tiene un valor asociado. Se desea separar los elementos en 2 subconjuntos tal que la suma de los valores de cada
subconjunto sea igual para ambos.

2-Partition es un problema NP-Completo. Queremos demostrar nuevamente (pero de otra forma a la vista en clase) que
Subset Sum es un problema NP-Completo. Demostrar esto, utilizando que 2-Partition es un problema NP-Completo.

# Solucion

## Demostracion

Para demostrar que es un problema NP-Completo debemos:
- Demostrar que el problema se encuentra en NP
- Reducir el problema de 2-Partition al problema del Subset Sum: 2-Partition $\leq_P$ Subset Sum

Nota: Para la segunda demostracion es importante demostrar que nuestra reduccion es correcta demostrando la doble implicacion.

La segunda demostracion nos indica que el problema del Subset Sum es al menos tan dificil de resolver como el problema de 2-Partition. Esto significa que resolver el problema de 2-Partition puede ser transformado en resolver el problema del Subset Sum.

#### Demostracion I: El problema se encuentra en NP

Para que el problema se encuentre en NP, debe haber un verificador eficiente.

En otras palabras, debe haber un verificador que ejecute en tiempo polinomial.

Verificador: Recibe una instancia del problema y una solucion.

```py
def verificador(conjunto, n, solucion):
    
    # Validamos que cada elemento de cada subconjunto pertenezca al conjunto original
    for subconjunto in solucion:
        for elemento in subconjunto:

            if elemento not in conjunto:
                return False

    # Validamos que la suma de cada subconjunto de como resultado exactamente n
    for subconjunto in solucion:

        if sum(subconjunto) != n:
            return False

    return True
```

Complejidad: La complejidad del verificador resulta ser O(S x E) con S la cantidad de subconjuntos y E la cantidad de elementos
- Iteramos los subconjuntos y sus elementos lo cual tiene una complejidad de O(S x E) con S la cantidad de subconjuntos y E la cantidad de elementos
- Iteramos los subconjuntos y sumamos sus elementos lo cual tiene una complejidad de O(S x E) con S la cantidad de subconjuntos y E la cantidad de elementos

Luego, se ejecuta en tiempo polinomial, lo cual quiere decir que el problema se encuentra en NP.

#### Demostracion II: Reduccion de un problema NP-Completo

Debemos demostrar que 2-Partition $\leq_P$ Subset Sum.

###### Reduccion planteada

¿Podemos resolver el problema de 2-Partition utilizando la solucion del problema Subset Sum?.

Vamos a utilizar una caja negra que resuelve el problema del problema Subset Sum para resolver el problema de 2-Partition.

El problema de 2-Partition recibe un conjunto $S$ de elementos

Transformacion del problema: Transformamos la entrada del problema de 2-Partition en una entrada del problema Subset Sum
- El conjunto de elementos $S$ del problema 2-Partition se corresponde con el conjunto de elementos $S'$ del problema de Subset Sum
- ¿Cual es el valor de $n$ para el problema de Subset Sum?. Definimos $sum(S) = B$ donde $S$ es el conjunto de elementos del problema de 2-Partition. Buscamos dividir el conjunto $S$ en dos subconjuntos cuya suma sea igual. Para ello, definimos $T = B/2$ donde es necesesario que B sea un numero par si queremos que el problema tenga solucion. Luego, el valor $T$ se corresponde con el valor $n$ del problema de Subset Sum.

Esta transformacion requiere una cantidad de pasos polinomiales.

A continuacion, para demostrar que la reduccion es correcta, debemos demostrar que:

Hay solucion de 2-Partition, si y solo si, hay solucion para el problema del Subset Sum.

Para demostrar ambas implicaciones tenemos dos opciones:
- Metodo directo, asumiendo para cada una que la hipotesis es cierta.
- Metodo por absurdo.

###### Si hay 2-Partition, entonces hay Subset Sum

Hipotesis: Hay solucion de 2-Partition donde cada subconjunto suma exactamente $T$

Dada nuestra hipotesis, separamos los elementos en 2 subconjuntos $S_1$ y $S_2$ tal que la suma de los valores de cada subconjunto es $T$.

Dado que ambos problemas comparten el mismo conjunto de elementos y definimos $T$ como el valor al que deben llegar los subconjuntos de Subset Sum, entonces tambièn es posible separar los elementos en 2 subconjuntos $S_1$ y $S_2$ tal que la suma de los valores de cada subconjunto es $T$.

Luego, hay solucion para el problema de Subset Sum.

###### Si hay Subset Sum, entonces hay 2-Partition

Hipotesis: Hay solucion de Subset Sum donde cada subconjunto suma exactamente $T$

Dada nuestra hipotesis, separamos los elementos en 2 subconjuntos $S_1$ y $S_2$ tal que la suma de los valores de cada subconjunto es $T$.

Dado que ambos problemas comparten el mismo conjunto de elementos, entonces tambièn es posible separar los elementos en 2 subconjuntos $S_1$ y $S_2$ tal que la suma de los valores de cada subconjunto es igual.

Notamos que si existe un subconjunto $S_1$ tal que su suma es $T = B/2$ los elementos restantes en $S_2$ tambièn suman $T = B/2$ ya que

$sum(S_2) = B - sum(S_1) = B - B/2 = B/2$

Luego, hay solucion para el problema de 2-Partition.

## Conclusion

Habiendo demostrado que la reduccion es correcta, queda demostrado tambien que el problema del Subset Sum es un problema NP-Completo.