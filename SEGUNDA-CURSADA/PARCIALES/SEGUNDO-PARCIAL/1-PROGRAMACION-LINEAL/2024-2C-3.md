# Enunciado

Problema: Dado un arreglo de enteros ordenado, un elemento x y un valor entero k, encuentre los k valores del arreglo más cercanos al elemento en cuestión (que bien podría estar en el arreglo, o no).

Realizar un modelo de programación lineal que resuelva el problema planteado. 

Nos interesa que sean cercanos al elemento, y eso se ve con el valor absoluto de la diferencia, y el operador módulo no es un operador lineal. Si se incluye el operador módulo como parte del Modelo, el ejercicio estará mal. 

Indicar la cantidad de restricciones definidas.

# Solucion

Definimos variables:
1. $Y_i$: Variable booleana que indica si se incluye al valor $i$
2. $d_i$: Variable que representa la distancia entre $x$ y el elemento $i$

Debemos elegir k elementos.

$$
\sum_{i=1}^{n} Y_i = k
$$

¿Como podemos obtener el valor absoluto de la diferencia entre el elemento $x$ y el elemento $i$?.

$d_i \ge x-v_i$

$d_i \ge v_i-x$

De esta forma, logramos que $d_i$ sea el valor absoluto de la diferencia.

Buscamos minimizar la suma total de distancias de los k valores elegidos.

$$
min \sum_{i=1}^{n} d_i Y_i
$$

Sin embargo, esto no es lineal.

Definimos una variable auxilizar $z_i$ que represente el producto.

$z_i = d_i Y_i$

¿Como definimos esta variable usando solo restricciones lineales?.

$z_i \le M Y_i$

$z_i \ge d_i - M (1-y_i)$

Notamos que M es una constante lo suficientemente grande. Por ejemplo, mayor al maximo valor que puede tomar $d_i$.

De esta forma, si $Y_i = 1$ entonces $z_i = d_i$ ya que el modelo esta minimizando los valores. Mientras que si $Y_i = 0$ entonces $z_i = 0$.

Luego, buscamos minimizar la suma total de distancias de los k valores elegidos.

$$
min \sum_{i=1}^{n} z_i
$$

¿Cuantas restricciones definimos?. Dos por cada elemento del arreglo para poder obtener el valor absoluto de la diferencia, dos por cada elemento del arreglo debido a la variable auxilizar $z_i$ y una para seleccionar exactamente k elementos. Es decir, tenemos un total de $4n + 1$ restricciones.

¿Es posible evitar la variable auxiliar $z_i$?. Solamente se puede evitar si los valores de $v_i$ y $x$ son conocidos de antemano para poder calcular los valores de $d_i$ antes de armar el modelo.
